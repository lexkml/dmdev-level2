# Погружение в класс String в Java

## Введение

Приветствую всех! Сегодня мы подробно рассмотрим один из основных строительных блоков в Java - класс `String`. Этот класс играет ключевую роль в обработке и манипуляции текстовыми данными в Java.

### Основы класса String

`String` в Java - это неизменяемый (immutable) класс, который находится в пакете `java.lang`. Неизменяемость означает, что однажды созданный объект `String` не может быть изменен. Это обеспечивает определенные преимущества, такие как безопасность потоков (thread safety) и эффективность кэширования.

### Как устроен String?

Внутренне, `String` хранит свои данные в массиве `byte`. Это было изменено с Java 9, где ранее использовался массив `char`. Переход на `byte` был сделан для экономии памяти, так как большинство строк часто содержат символы, которые умещаются в один байт (особенно в латинице).

### Работа с конструкторами

Класс `String` предлагает разнообразие конструкторов для создания строк. Например, можно создать строку из массива байтов, указав кодировку, что позволяет управлять тем, как символы будут интерпретированы.

Пример: `String(byte[] bytes, Charset charset)` создает новую строку, декодируя массив байтов с использованием заданной кодировки. Подробнее о кодировках изложено [здесь](encoding.md).

## Методы класса String

1. **Доступ и изменение**: Методы `charAt()` и `codePointAt()` используются для доступа к символам строки. Так как строки неизменяемы, для создания измененной версии строки часто используются методы вроде `replace()` и `substring()`.

2. **Сравнение строк**: `equals()` и `equalsIgnoreCase()` - ключевые методы для сравнения строк. Важно помнить, что `==` сравнивает ссылки, а не содержимое строк.

3. **Поиск и анализ**: `indexOf()` и `lastIndexOf()` ищут индексы символов или подстрок. `startsWith()` и `endsWith()` проверяют, начинается или заканчивается ли строка на определенную подстроку.

4. **Работа с подстроками**: `split()` разбивает строку по регулярному выражению, `substring()` извлекает подстроку. Эти методы полезны для анализа и трансформации текста.

5. **Преобразования и форматирование**: `toLowerCase()` и `toUpperCase()` меняют регистр. `trim()`, `strip()`, `stripLeading()`, `stripTrailing()` удаляют пробелы. Метод `format()` позволяет форматировать строки, используя шаблоны.

6. **Проверки**: `isEmpty()` и `isBlank()` - новые методы (последний появился в Java 11), которые позволяют проверить строку на пустоту и наличие только пробельных символов.

### StringBuffer и StringBuilder

Эти классы представляют собой изменяемые аналоги класса `String`. `StringBuffer` является потокобезопасным, в то время как `StringBuilder` обеспечивает лучшую производительность в однопоточных сценариях. Они обладают похожими методами, позволяя добавлять, удалять и изменять символы внутри себя без создания новых объектов строк.

### Регулярные выражения и String

Регулярные выражения - мощный инструмент для работы со строками, и класс `String` включает методы, такие как `matches()`, `replaceAll()` и `replaceFirst()`, которые используют регулярные выражения для выполнения сложных задач поиска и замены.

## Заключение

Понимание работы с классом `String` в Java - ключевой аспект для любого разработчика. Независимо от того, разрабатываете ли вы веб-приложения, мобильные приложения или системное ПО, знание методов и принципов работы со строками поможет вам писать более чистый, эффективный и безопасный код. На следующих занятиях мы погрузимся в практические задачи, используя `String`, а также рассмотрим `StringBuffer` и `StringBuilder` для более продвинутой работы со строками.
